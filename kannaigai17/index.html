<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Primary Meta Tags -->
    <title>関内外OPEN!17</title>
    <meta name="title" content="関内外OPEN!17">
    <meta name="description" content="関内外OPEN!17 - 見慣れたまちの、視点を変える。2026年2月23日(月・祝) 象の鼻テラスにて開催。">
    <meta name="keywords" content="関内外,OPEN,横浜,イベント,kannaigai,EXHIBITION,展示">
    <meta name="author" content="Kannaigai">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://kannaigai.com/kannaigai17/">
    <meta property="og:title" content="関内外OPEN!17">
    <meta property="og:description" content="見慣れたまちの、視点を変える。2026年2月23日(月・祝) 象の鼻テラスにて開催。">
    <meta property="og:image" content="https://kannaigai.com/kannaigai17/image/ogp.png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:locale" content="ja_JP">
    <meta property="og:site_name" content="関内外OPEN!17">

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://kannaigai.com/kannaigai17/">
    <meta name="twitter:title" content="関内外OPEN!17">
    <meta name="twitter:description" content="見慣れたまちの、視点を変える。2026年2月23日(月・祝) 象の鼻テラスにて開催。">
    <meta name="twitter:image" content="https://kannaigai.com/kannaigai17/image/ogp.png">

    <!-- Theme Color -->
    <meta name="theme-color" content="#ffffff">

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="image/favicon.png">
    <link rel="apple-touch-icon" sizes="180x180" href="image/favicon.png">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&display=swap" rel="stylesheet">

    <!-- Stylesheet -->
    <link rel="stylesheet" href="style.css">

    <!-- Vue.js -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
</head>
<body>
    <script>
        // 2回目以降の訪問時はローディングを即非表示
        if (localStorage.getItem('kannaigai17_visited')) {
            document.documentElement.classList.add('skip-loading');
        }
    </script>
    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loading-overlay">
        <div class="loading-progress"></div>
        <div class="loading-spinner">
            <img src="image/catchcopy.svg" width="320">
        </div>
    </div>

    <div class="wrapper" id="app">
        <main v-if="data">
            <div class="hero-mv" aria-hidden="true">
                <img class="hero-mv-image mv__left" :src="'image/mv-left.png'" aria-hidden="true">
                <img class="hero-mv-image mv__right" :src="'image/mv-right.png'" aria-hidden="true">
                <div class="hero-mv-eye eye__left" aria-hidden="true">
                    <svg width="95" height="95" viewBox="0 0 95 95" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <circle cx="47.5" cy="47.5" r="47.5" fill="black"/>
                    </svg>
                </div>
                <div class="hero-mv-eye eye__right" aria-hidden="true">
                    <svg width="95" height="95" viewBox="0 0 95 95" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <circle cx="47.5" cy="47.5" r="47.5" fill="black"/>
                    </svg>
                </div>
            </div>

            <!-- Hero Section -->
            <header class="hero-header fade-in-section">
                <h1 class="hero-title">
                    <img src="image/mv-title.svg" alt="関内外OPEN! 17 EXHIBITION! 展">
                </h1>
                <p class="hero-description">
                    <img src="image/mv-description.svg" alt="2026年2月23日(月・祝)13:00 ‐ 17:00像の鼻テラス〒231‐0002横浜市中区海岸通1丁目">
                </p>
                <p class="hero-meta">
                    <img src="image/mv-meta.svg" alt="入場無料・予約不要">
                </p>
            </header>

            <!-- ABOUT Section -->
            <section id="about" class="fade-in-section" aria-labelledby="about-heading">
                <div class="section-header">
                    <h2 id="about-heading">
                        <span class="section-title-en">{{ data.about.titleEn }}</span>
                        <span class="section-title-ja">{{ data.about.titleJa }}</span>
                    </h2>
                </div>
                <p class="section-description">{{ data.about.description }}</p>
                <div v-if="data.about.photos" class="about-photos">
                    <div class="about-photos-track">
                        <div v-for="(photo, index) in data.about.photos" :key="'a-' + index" class="about-photo">
                            <img :src="photo" :alt="'関内外OPEN! 写真' + (index + 1)">
                        </div>
                        <div v-for="(photo, index) in data.about.photos" :key="'b-' + index" class="about-photo">
                            <img :src="photo" :alt="'関内外OPEN! 写真' + (index + 1)">
                        </div>
                    </div>
                </div>
            </section>

            <!-- EXHIBITION Section -->
            <section id="exhibition" class="fade-in-section" aria-labelledby="exhibition-heading">
                <div class="section-header">
                    <h2 id="exhibition-heading">
                        <span class="section-title-en">{{ data.exhibition.titleEn }}</span>
                        <span class="section-title-ja">{{ data.exhibition.titleJa }}</span>
                    </h2>
                </div>
                <p class="event-time">{{ data.exhibition.time }}</p>
                <p class="section-description">{{ data.exhibition.description }}</p>

                <div class="projects-grid">
                    <article
                        v-for="project in data.exhibition.projects"
                        :key="project.id"
                        class="project-card">
                        <p class="project-category">{{ project.category }}</p>
                        <h3 class="project-title">{{ project.title }}</h3>
                        <p class="project-description" v-html="project.description"></p>
                        <ul class="project-creators">
                            <li v-for="(creator, index) in project.creators" :key="index">
                                {{ creator.name }}<span v-if="creator.affiliation" class="creator-affiliation">_{{ creator.affiliation }}</span>
                            </li>
                        </ul>
                        <div
                            v-if="project.photo"
                            class="photo-thumbnail"
                            :style="{
                                '-webkit-mask-image': project.shape ? 'url(' + project.shape + ')' : 'none',
                                'mask-image': project.shape ? 'url(' + project.shape + ')' : 'none',
                                'background-color': project.color
                            }"
                            @click="openPhoto(project.id)">
                            <img :src="project.photo" :alt="project.title">
                            <span class="photo-thumbnail-text">View Photo</span>
                        </div>
                    </article>

                </div>
            </section>

            <!-- TALK SESSION Section -->
            <section id="talk-session" class="talk-session fade-in-section" aria-labelledby="talk-heading">
                <div class="section-header">
                    <h2 id="talk-heading">
                        <span class="section-title-en">{{ data.talkSession.titleEn }}</span>
                        <span class="section-title-ja">{{ data.talkSession.titleJa }}</span>
                    </h2>
                </div>
                <p class="event-time">{{ data.talkSession.time }}</p>
                <p class="section-description">{{ data.talkSession.description }}</p>

                <div class="section-header-sub">
                    <h3>MODERATOR<span class="section-title-ja">モデレーター</span></h3>
                </div>
                <div class="moderator-card">
                    <div class="guest-info">
                        <p class="guest-name">{{ data.talkSession.moderator.name }}</p>
                        <p v-if="data.talkSession.moderator.title" class="guest-title">{{ data.talkSession.moderator.title }}</p>
                    </div>
                    <div v-if="data.talkSession.moderator.photo" class="guest-photo">
                        <img :src="data.talkSession.moderator.photo" :alt="data.talkSession.moderator.name">
                    </div>
                    <div v-else class="guest-photo guest-photo--placeholder"></div>
                </div>

                <div class="section-header-sub">
                    <h3>GUEST<span class="section-title-ja">ゲスト<span style="font-size: 0.75rem">（敬称略）</span></span></h3>
                </div>
                <div class="guests-grid">
                    <div
                        v-for="guest in data.talkSession.guests"
                        :key="guest.id"
                        class="guest-card"
                        :style="{ backgroundColor: guest.color }">
                        <div class="guest-row">
                            <div class="guest-info">
                                <p class="guest-project">{{ guest.project }}</p>
                                <p class="guest-name">{{ guest.name }}</p>
                                <p class="guest-title">{{ guest.title }}</p>
                            </div>
                            <div v-if="guest.photo" class="guest-photo">
                                <img :src="guest.photo" :alt="guest.name">
                            </div>
                            <div v-else class="guest-photo guest-photo--placeholder"></div>
                        </div>
                    </div>
                </div>

            </section>

            <!-- DESIGN PITCH Section -->
            <section id="design-pitch" class="design-pitch fade-in-section" aria-labelledby="pitch-heading">
                <div class="section-header">
                    <h2 id="pitch-heading">
                        <span class="section-title-en">{{ data.designPitch.titleEn }}</span>
                        <span class="section-title-ja">{{ data.designPitch.titleJa }}</span>
                    </h2>
                </div>
                <p class="event-time">{{ data.designPitch.time }}</p>
                <p class="section-description">{{ data.designPitch.description }}</p>
            </section>

            <!-- KIDS SPACE Section -->
            <section id="kids-space" class="kids-space fade-in-section" aria-labelledby="kids-heading">
                <div class="section-header">
                    <h2 id="kids-heading">
                        <span class="section-title-en">{{ data.kidsSpace.titleEn }}</span>
                        <span class="section-title-ja">{{ data.kidsSpace.titleJa }}</span>
                    </h2>
                </div>
                <p class="event-time">{{ data.kidsSpace.time }}</p>
                <p class="section-description">{{ data.kidsSpace.description }}</p>
                <div v-if="data.kidsSpace.photos" class="kids-photos">
                    <div v-for="(photo, index) in data.kidsSpace.photos" :key="index" class="kids-photo">
                        <img :src="photo" :alt="data.kidsSpace.name + ' 写真' + (index + 1)">
                    </div>
                </div>
                <p class="section-link">{{ data.kidsSpace.name }} <a :href="data.kidsSpace.link" target="_blank">{{ data.kidsSpace.link }}</a> </p>
            </section>

            <!-- ACCESS Section -->
            <section id="access" class="access-section fade-in-section" aria-labelledby="access-heading">
                <div class="section-header">
                    <h2 id="access-heading">
                        <span class="section-title-en">ACCESS</span>
                        <span class="section-title-ja">アクセス</span>
                    </h2>
                </div>
                <div class="venue-info">
                    <p class="venue-name">{{ data.event.venue.name }}<br>{{ data.event.venue.nameEn }}</p>
                    <p class="venue-address">住所: {{ data.event.venue.address }}</p>
                    <p class="venue-access">アクセス: {{ data.event.venue.access }}</p>
                    <p class="venue-map">
                        <img src="image/map.png" aria-hidden="true" alt="地図"/>
                    </p>
                    <p class="venue-map-link">
                        <a :href="data.event.venue.googleMap" target="_blank" rel="noopener noreferrer" class="map-button">Google Mapで見る</a>
                    </p>
                </div>
            </section>

            <!-- Archive Section -->
            <section id="archive" class="fade-in-section" aria-labelledby="archive-heading">
                <h2 id="archive-heading">{{ data.archive.titleJa }}</h2>
                <ul class="archive-list">
                    <li v-for="item in data.archive.items" :key="item.id" class="archive-item">
                        <a :href="item.url" target="_blank" rel="noopener noreferrer">
                            <span class="archive-text">
                                <span class="archive-title">{{ item.title }}</span>
                                <span class="archive-date">{{ item.date }}</span>
                            </span>
                            <span v-if="item.image" class="archive-image">
                                <img :src="item.image" :alt="item.title">
                            </span>
                        </a>
                    </li>
                </ul>
                <button id="archiveToggle" class="archive-toggle" aria-expanded="false">
                    <span class="archive-toggle-text">もっと見る</span>
                    <svg class="archive-toggle-icon" viewBox="0 0 24 24" aria-hidden="true">
                        <path d="M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"/>
                    </svg>
                </button>
            </section>

            <!-- SNS Section -->
            <section id="share" class="fade-in-section" aria-labelledby="share-heading">
                <h2 id="share-heading" class="visually-hidden">SNS</h2>
                <div class="share-buttons">
                    <a :href="data.social.instagram" target="_blank" rel="noopener noreferrer" class="share-button share-button-instagram" aria-label="Instagram">
                        <img src="./image/icon-ig.png" alt="Instagram" width="24" height="24">
                    </a>
                    <a :href="data.social.facebook" target="_blank" rel="noopener noreferrer" class="share-button share-button-facebook" aria-label="Facebook">
                        <img src="./image/icon-fb.png" alt="Facebook" width="24" height="24">
                    </a>
                </div>
            </section>

            <!-- Credits Section -->
            <section id="credit" class="credits-section fade-in-section" aria-labelledby="credit-heading">
                <h2 id="credit-heading" class="visually-hidden">クレジット</h2>
                <dl class="credit-content">
                    <div v-for="(item, index) in data.credits" :key="index" class="credit-row">
                        <dt v-if="item.label" class="credit-label">{{ item.label }}</dt>
                        <dd class="credit-value" :class="{ 'credit-value--full': !item.label }">
                            <span v-for="(val, vIndex) in item.values" :key="vIndex">{{ val }}</span>
                        </dd>
                    </div>
                </dl>
            </section>
            <nav class="nav" id="nav">
                <button class="nav-toggle" id="nav-toggle" aria-label="メニューを開く" aria-expanded="false">
                    <span class="nav-toggle-text">メニュー</span>
                </button>
                <div class="nav-modal" id="nav-modal">
                    <ul>
                        <li v-for="(item, index) in data.navigation" :key="index">
                            <a :href="item.href">{{ item.label }}</a>
                        </li>
                    </ul>
                </div>
            </nav>
        </main>

        <footer role="contentinfo" v-if="data">
            <p v-html="data.credit"></p>
        </footer>
        <!-- Photo Overlay (grid全体を覆う) -->
        <div
                v-if="selectedProjectId"
                class="photo-overlay"
                :class="{ 'is-active': selectedProjectId }"
                @click="closePhoto">
            <div class="photo-overlay-content" @click.stop>
                <button class="photo-overlay-close" @click.stop="closePhoto">&times;</button>
                <img :src="getSelectedProject?.photo" :alt="getSelectedProject?.title">
                <p v-if="getSelectedProject?.caption" class="photo-caption">{{ getSelectedProject.caption }}</p>
            </div>
        </div>
    </div>
    <script>
        const { createApp, nextTick } = Vue;

        createApp({
            data() {
                return {
                    data: null,
                    selectedProjectId: null
                }
            },
            computed: {
                getSelectedProject() {
                    if (!this.data || !this.selectedProjectId) return null;
                    return this.data.exhibition.projects.find(p => p.id === this.selectedProjectId);
                }
            },
            methods: {
                openPhoto(projectId) {
                    this.selectedProjectId = projectId;
                },
                closePhoto() {
                    this.selectedProjectId = null;
                }
            },
            async mounted() {
                try {
                    const response = await fetch('data/event.json');
                    this.data = await response.json();
                    await nextTick();
                    window.dispatchEvent(new Event('vue-ready'));
                } catch (error) {
                    console.error('Failed to load event data:', error);
                }
            }
        }).mount('#app');
    </script>
    <script src="script.js"></script>
</body>
</html>
